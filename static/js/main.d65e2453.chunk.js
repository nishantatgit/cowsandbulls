(this.webpackJsonpcowsandbulls=this.webpackJsonpcowsandbulls||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),s=n(8),u=n.n(s),o=(n(14),n(6)),l=n(2),i=n(4);var b=function(e,t){var n={};return e.forEach((function(e){if(e.validate){var r=function(e,t){var n={hasError:!0};return!t.required||void 0!==e&&""!==e&&null!==e?t.value&&"number"===t.value.val&&!/^[0-9]*$/.test(e)?(n.errMsg=t.value.errMsg,n):t.minLength&&e.length<t.minLength.val?(n.errMsg=t.minLength.errMsg,n):t.maxLength&&e.length>t.maxLength.val?(n.errMsg=t.maxLength.errMsg,n):(n.hasError=!1,n):(n.errMsg=t.required.errMsg,n)}(t[e.name],e.validate);r.hasError&&(n[e.name]=r)}})),n},j={text:function(e){var t=e.type,n=e.onChange,c=e.onBlur,s=e.label,u=e.initialValue,o=e.className,i=e.placeholder,b=e.name,j=e.error,f=void 0===j?{}:j,d=e.submitCount,m=f.hasError,h=f.errMsg,O=Object(a.useState)(u),v=Object(l.a)(O,2),g=v[0],p=v[1],x=function(e){c&&c(g)};return Object(a.useEffect)((function(){n&&n(b,g)}),[g]),Object(a.useEffect)((function(){p(u)}),[d]),Object(r.jsxs)("div",{className:"input-group",children:[Object(r.jsx)("label",{htmlFor:s,children:s}),Object(r.jsx)("input",{className:"".concat(o," ").concat(m?"error":""),type:t,id:s,onChange:function(e){return function(e){p(e.target.value)}(e)},onBlur:function(e){return x()},value:g,name:b,placeholder:i}),m&&Object(r.jsx)("span",{className:"error",children:h})]})},submit:function(e){var t=e.label,n=e.className;return Object(r.jsx)("input",{className:n,type:"submit",value:t})}};var f=function(e){var t=e.formFields,n=e.id,c=e.formClass,s=e.onSubmit,u=e.validateOnSubmit,o=void 0===u||u,f=Object(a.useState)({}),d=Object(l.a)(f,2),m=d[0],h=d[1],O=Object(a.useState)({}),v=Object(l.a)(O,2),g=v[0],p=v[1],x=Object(a.useState)(0),S=Object(l.a)(x,2),E=S[0],w=S[1],M=function(e,t){m[e]=t};return Object(a.useEffect)((function(){var e={};t.forEach((function(t){var n=t.name,r=t.initialValue;e[n]=r})),h(Object(i.a)({},e))}),[t]),Object(r.jsx)("form",{id:n,className:c,noValidate:!0,onSubmit:function(e){e.preventDefault();var n=!0;o&&(n=function(){var e=b(t,m),n=t.some((function(t){var n=e[t.name];return!(!n||!n.hasError)}));return p(Object(i.a)({},e)),!n||(console.error("form has errors ..."),!1)}()),s&&n&&(s(m),w(E+1))},children:t.map((function(e){var t=e.type,n=j[t],r=g[e.name];return Object(a.createElement)(n,Object(i.a)(Object(i.a)({onChange:M},e),{},{error:r,submitCount:E,key:e.name}))}))})},d=[{type:"text",name:"user-guess-input",initialValue:"",label:"Enter Your Guess",validate:{required:{val:!0,errMsg:"Please enter some value"},maxLength:{val:4,errMsg:"Value should not be greater than 4"},minLength:{val:4,errMsg:"Value should not be less than 4"},value:{val:"number",errMsg:"Value must be a number"}}},{type:"submit",label:"Check",defaultPrevented:!0}],m=(n(15),function(e){var t=e.onSubmit;return Object(r.jsx)(f,{className:"user-input-form",id:"guess-input",formFields:d,onSubmit:t,validateOnSubmit:!0})}),h=(n(16),function(e){var t=e.setUserInputs;return Object(r.jsx)("div",{className:"game-panel",children:Object(r.jsx)(m,{onSubmit:t})})}),O=function(e){var t=e.headers;return Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{children:t.map((function(e){return Object(r.jsx)("th",{children:e})}))})})},v=function(e){var t=e.rows;return Object(r.jsx)("tbody",{children:t.map((function(e){return Object(r.jsx)("tr",{children:e.map((function(e){return Object(r.jsx)("td",{children:e},e)}))},e[0])}))})},g={mainHeader:"Bulls and Cows Game",startLabel:"Start Game",userInputLabel:"Enter your guess",userInputName:"guess digit",bull:"bull",cow:"cow",result:{stepLabel:"Step",guessLabel:"Guess",resultLabel:"Guess Result",congratsText:"Congratulations!! You Won. Hit Refresh to start again."},instruction:"Click start and a random 4 digit sequence will be generataed. Guess the sequence to win the game."};var p=function(e){var t=e.data,n=t.headers,a=t.rows,c=e.id;return Object(r.jsxs)("table",{id:c,children:[Object(r.jsx)("caption",{children:g.resultCaption}),Object(r.jsx)(O,{headers:n}),Object(r.jsx)(v,{rows:a})]})},x=function(e){var t=e.split(""),n={};return t.forEach((function(e,t){void 0!==n[e]?n[e].push(t):n[e]=[t]})),n};var S=function(e,t){for(var n=Object.keys(e),r=0,a=0,c=function(c){var s=n[c];void 0!==t[s]&&(t[s].some((function(t){return e[s].some((function(e){return e===t}))}))?a+=1:r+=1)},s=0;s<n.length;s++)c(s);return{cows:r,bulls:a}};var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.bulls,r=e.cows;return"".concat(n," bull").concat(1!==n?"s":""," ").concat(r," cow").concat(1!==r?"s":""," ").concat(n===t?"(Win!)":"")},w=["Step","Guess","Guess Result"],M=(n(17),function(e){var t=e.answerSequence,n=e.userInputs,c=e.callback,s=Object(a.useState)(null),u=Object(l.a)(s,2),i=u[0],b=u[1],j=Object(a.useState)(null),f=Object(l.a)(j,2),d=f[0],m=f[1],h=Object(a.useState)([]),O=Object(l.a)(h,2),v=O[0],g=O[1];return Object(a.useEffect)((function(){t&&b(x(t))}),[t]),Object(a.useEffect)((function(){if(n.length){var e=n[n.length-1];m(x(e))}}),[n]),Object(a.useEffect)((function(){if(d){var e=S(i,d),t=E(e);g([].concat(Object(o.a)(v),[[v.length+1,n[n.length-1],t]])),4===e.bulls&&c()}}),[d]),Object(r.jsx)("div",{className:"result-panel",children:Object(r.jsx)(p,{data:{headers:w,rows:v}})})});var N=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t="",n={},r=0;r<e;r++){for(var a=Math.floor(10*Math.random());n[a];)a=Math.floor(10*Math.random());n[a]=!0,t+=a}return t},C=4,L=(n(18),function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(null),u=Object(l.a)(s,2),i=u[0],b=u[1],j=Object(a.useState)(!1),f=Object(l.a)(j,2),m=f[0],O=f[1],v=Object(a.useState)(!1),p=Object(l.a)(v,2),x=p[0],S=p[1],E=Object(a.useCallback)((function(e){var t=e[d[0].name];c([].concat(Object(o.a)(n),[t]))}),[]);Object(a.useEffect)((function(){var e=N(C);console.info("randomSequence ",e),b(e)}),[]);var w=Object(a.useCallback)((function(){console.log("game finished ...."),S(!0)}),[]);return Object(r.jsxs)(r.Fragment,{children:[!m&&!x&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{className:"button",onClick:function(){O(!0)},children:g.startLabel}),Object(r.jsx)("p",{className:"instruction",children:g.instruction})]}),x&&Object(r.jsx)("p",{children:g.result.congratsText}),m&&Object(r.jsxs)("div",{className:"game-play",children:[!x&&Object(r.jsx)(h,{setUserInputs:E}),!!n.length&&Object(r.jsx)(M,{userInputs:n,answerSequence:i,callback:w})]})]})}),y=(n(19),function(e){return Object(r.jsxs)("main",{className:"homepage",children:[Object(r.jsx)("h1",{className:"header",children:g.mainHeader}),Object(r.jsx)(L,{})]})});u.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(y,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.d65e2453.chunk.js.map